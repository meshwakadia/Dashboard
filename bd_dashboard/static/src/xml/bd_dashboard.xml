<?xml version="1.0" encoding="UTF-8" ?>
<templates>
    <t t-name="bd_dashboard.BdDashboard">
        <div class="row m-2">
            <div class="col-lg-13">
                <div class="row">
                    <div class="col m-0 p-0">
                        <div class="shadow-sm border m-2 p-4 bg-white">
                            <div class="d-flex align-items-center justify-content-between">
                                <h1 class="text-primary fw-bold">Custom Sales Dashboard</h1>
                                <div >
                                    <label for="StartDate">Start Date:</label>
                                    <input id="StartDate" type="datetime-local" name="StartDate"/>
                                </div>
                                <div>
                                    <label for="EndDate">End Date:</label>
                                    <input id="EndDate" type="datetime-local" name="EndDate" />
                                </div>
                                <div>
                                    <select class="form-select" t-model="state.period" t-on-change="onChangePeriod">
                                        <option value="0">select period</option>
                                        <option value="7">Last 7 Days</option>
                                        <option value="30">Last 30 Days</option>
                                        <option value="90">Last 90 Days</option>
                                        <option value="180">Last 180 Days</option>
                                        <option value="365">Last 365 Days</option>
                                        <!-- <option value="3">Last 3 Years</option> -->
                                    </select>
                                </div>
                                <div class="fetchData">
                                    <button class="btn btn-primary" type="button" t-on-click="() => this.fetchData()">
                                        <i class="oi oi-search"></i>
                                    </button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    



        <!-- Dashboard Tiles -->
        <div class="row main-section" style="margin-left: 20px;">

            <!-- Quotations Tile -->
            <div id="quotations" class="col-md-3 col-sm-4 tot_tasks oh-payslip" style="overflow: hidden;">
                <div class="oh-card" style="box-shadow:2px 4px 8px 2px rgba(0,0,0.3,0.2); display: flex; justify-content: center;" role="button">
                    <div class="oh-card-body" style="padding: 5px 5px; float: left; width: 100%; height: auto; box-sizing: border-box; margin: 0;">
                        <div class="stat-widget-one">
                            <div class="stat-icon bg-mauve-light d-flex justify-content-left align-items-left">
                                <div style="background:#ff4d94; width:40px; heigth:40px; text-align: center;">
                                    <i class="fa fa-tasks text-mauve" style="font-size:40px;"/>
                                </div>
                                <div class="stat_content" style="text-align: center; font-weight: bold; padding-top: 20px; padding-left: 80px;">
                                    <div class="stat_count_quotations" t-on-change="onChangePeriod" t-on-click="openmyQuotations" style="font-size: 17px;">
                                        <div t-esc="state.myquotations" />
                                    </div>
                                    <div class="stathead" style="font-size: 14px;">Quotations</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sent Quotations Tile -->
            <div id="opportunity" class="col-md-3 col-sm-4 tot_tasks oh-payslip" style="overflow: hidden;">
                <div class="oh-card" style="box-shadow:2px 4px 8px 2px rgba(0,0,0.3,0.2); display: flex; justify-content: center;" role="button">
                    <div class="oh-card-body" style="padding: 5px 5px; float: left; width: 100%; height: auto; box-sizing: border-box; margin: 0;">
                        <div class="stat-widget-one">
                            <div class="stat-icon bg-mauve-light d-flex justify-content-left align-items-left">
                                <div style="background:yellow; width:40px; heigth:40px; text-align: center;">
                                    <i class="fa fa-trophy text-mauve" style="font-size:40px;"/>
                                </div>
                                <div class="stat-content" style="text-align: center; font-weight: bold; padding-top: 20px; padding-left: 80px;">
                                    <div class="stat_count_opp" t-on-click="openmyOpportunity" style="font-size: 17px;">
                                        <div t-esc="state.myopportunity" />
                                    </div>

                                    <div class="stathead" style="font-size: 14px;">Sent Quotations</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Expected Orders Tile -->
            <div id="expected_revenue" class="col-md-3 col-sm-4 tot_tasks oh-payslip" style="overflow: hidden; ">
                <div class="oh-card" style="box-shadow:2px 4px 8px 2px rgba(0,0,0.3,0.2); display: flex; justify-content: center;" role="button">
                    <div class="oh-card-body" style="padding: 5px 5px; float: left; width: 100%; height: auto; box-sizing: border-box; margin: 0;">
                        <div class="stat-widget-one">
                            <div class="stat-icon bg-mauve-light d-flex justify-content-left align-items-left">
                                <div style="background:#bf80ff; width:40px; heigth:40px; text-align: center;">
                                    <i class="fa fa-usd text-mauve" style="font-size:40px;"/>
                                </div>
                                <div class="stat-content" style="text-align: center; font-weight: bold; padding-top: 20px; padding-left: 80px;">
                                    <div class="stat_count_ex_rev" t-on-click="openrevenue" style="font-size: 17px;">
                                        <span id="templates">
                                            <!-- <div id="revenue"></div> -->
                                            <div t-esc="state.revenue"/>
                                        </span>

                                    </div>

                                    <div class="stathead" style="font-size: 14px;">Orders</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--  Revenue Tile -->
            <div id="expected_revenue" class="col-md-3 col-sm-4 tot_tasks oh-payslip" style="overflow: hidden; ">
                <div class="oh-card" style="box-shadow:2px 4px 8px 2px rgba(0,0,0.3,0.2); display: flex; justify-content: center;" role="button">
                    <div class="oh-card-body" style="padding: 5px 5px; float: left; width: 100%; height: auto; box-sizing: border-box; margin: 0;">
                        <div class="stat-widget-one">
                            <div class="stat-icon bg-mauve-light d-flex justify-content-left align-items-left">
                                <div style="background:#bf80ff; width:40px; heigth:40px; text-align: center;">
                                    <i class="fa fa-usd text-mauve" style="font-size:40px;"/>
                                </div>
                                <div class="stat-content" style="text-align: center; font-weight: bold; padding-top: 20px; padding-left: 80px;">
                                    <div class="stat_count_ex_rev" t-on-click="openorder" style="font-size: 17px;">
                                        <span id="templates">
                                            <!-- <div id="revenue"></div> -->
                                            <div t-esc="state.order"/>
                                        </span>

                                    </div>

                                    <div class="stathead" style="font-size: 14px;">Revenue</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- top product graph -->

            <div class="col-lg-3 m-0 p-0">
                <div class="shadow-sm border m-0 p-2 bg-white">
                    <div class="d-flex align-items-center justify-content-between" >
                        <h3 class="text-primary fw-bold">Top Products</h3>
                        <div class="px-3 py-1 bg-primary cursor-pointer">
                            <span class="fa fa-arrow-right text-white" t-on-click="top_products"/>
                        </div>
                    </div>
                    <ChartRenderer type="'pie'" title="'Top Products Report'" config="state.topProducts"/>
                </div>
            </div>
            <div class="col-lg-3 m-0 p-0">
                <div class="shadow-sm border m-0 p-2 bg-white">
                    <div class="d-flex align-items-center justify-content-between" >
                        <h3 class="text-primary fw-bold">Top sales People</h3>
                        <div class="px-3 py-1 bg-primary cursor-pointer">
                            <span class="fa fa-arrow-right text-white" t-on-click="top_products"/>
                        </div>
                    </div>
                    <ChartRenderer type="'pie'" title="'Top Sales People'" config="state.topSalesPeople"/>
                </div>
            </div>
            <div class="col-lg-4 m-0 p-0">
                <div class="shadow-sm border m-2 p-2 bg-white">
                    <div class="d-flex align-items-center justify-content-between" >
                        <h3 class="text-primary fw-bold">Monthly sales</h3>
                        <div class="px-3 py-1 bg-primary cursor-pointer">
                            <span class="fa fa-arrow-right text-white" t-on-click="top_products"/>
                        </div>
                    </div>
                    <ChartRenderer type="'bar'" title="'Monthly Sales'"/>
                </div>
            </div>
            
        </div>
        


    </t>
</templates>
